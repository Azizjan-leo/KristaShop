@using Module.Common.WebUI.Infrastructure
@model List<Module.Partners.Business.DTOs.PartnershipRequestDTO>
@{
    var hasAccessToAccept = await HasAccess("Partnership", "ApprovePartnershipRequest");
}
@if (Model.Any()) {
    <div class="dashboard-header green-g">
        <h3>
            <svg class="krista-icon krista-crown krista-icon-size20">
                <use xlink:href="#krista-crown"></use>
            </svg> НОВЫЕ ЗАПРОСЫ НА ПАРТНЕРСТВО
        </h3>
        <h2>Активных заявок: @Model.Count</h2>
    </div>

    <div class="col-12 table-responsive">
        <table class="table table-striped table-bordered text-break dataTable partnershipRequstsTable" style="width: 100%; background-color: #ffffff;">
            <thead>
            <tr>
                <th>Клиент</th>
                <th>Менеджер</th>
                <th>Контакты</th>
                <th>Город и название ТЦ</th>
                <th>Заявка / Активность</th>
                <th>Принять в обработку</th>
                <th>Подтвердить</th>
            </tr>
            </thead>
        </table>
    </div>
    
    {
        <script>
            const partnershipRequests = @Html.AsJsObject(Model); 
            const hasAccessToApprovePartnership = '@hasAccessToAccept';
        </script>        
    }
}